  <div class="chart-button-container">

      <button type="button" class="chart-button" name="button" id="donations">Donations</button>
      <button type="button" class="chart-button"name="button" id="recipients">Recipients</button>
      <button type="button" class="chart-button"name="button" id="needs">Needs</button>
      <button type="button" class="chart-button"name="button" id="users">Users</button>


  </div>

  <div id="chartDiv">
    <canvas id="chart" width="600" height="400"></canvas>
  </div>


<script>
$(document).ready(function(){
  function generateBarChart() {
    var options = {
        scales: {
            yAxes: [{
                display: true,
                ticks: {
                    beginAtZero: true
                },
            }]
        }
    };
    var data = {
        labels: ["one", "two", "three", "four"],
        datasets: [
            {
                label: "test",
                backgroundColor: "rgba(255,99,132,0.2)",
                borderColor: "rgba(255,99,132,1)",
                borderWidth: 1,
                hoverBackgroundColor: "rgba(255,99,132,0.4)",
                hoverBorderColor: "rgba(255,99,132,1)",
                data: <%= [@analytics["All"][:items],
                          @analytics["All"][:customers],
                          @analytics["All"][:invoices],
                          @analytics["All"][:average_price]] %>,
            }
        ]
    };

    var element = document.getElementById('chart').getContext('2d');

    new Chart(element, {
    type: 'bar',
    data: data,
    options: options,
    });
  }

  function generatePieChart() {
    var data = {
        labels: ["one", "two", "three", "four"],
        datasets: [
            {
                data: <%= [@analytics["Merchant"][:items],
                          @analytics["Merchant"][:customers],
                          @analytics["Merchant"][:invoices],
                          @analytics["Merchant"][:average_price]] %>,
                backgroundColor: [
                    "#FF6384",
                    "#36A2EB",
                    "#FFCE56"
                ],
                hoverBackgroundColor: [
                    "#FF6384",
                    "#36A2EB",
                    "#FFCE56"
                ]
            }]
    };
    var element = document.getElementById('chart').getContext('2d');

    new Chart(element,{
        type: 'doughnut',
        data:  data ,

    });
  }

  function clearChart() {
    $('#chart').remove();
    $('#chartDiv').append('<canvas id="chart" width="300" height="200"></canvas>');
  }

  $('#donations').on('click', function (e) {
    clearChart()
    generateBarChart();
  });
  $('#recipients').on('click', function (e) {
    clearChart()
    generateBarChart();
  });
  $('#needs').on('click', function (e) {
    clearChart()
    generateBarChart();
  });
  $('#users').on('click', function (e) {
    clearChart()
    generatePieChart();
  });
});

</script>
<!-- <script type="text/javascript" src='dashboard_chart.js'></script> -->
